<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UniRide - Premium Ride App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    /* Body */
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        background: #ffffff;
    }

    /* Header */
    header {
        background: #001F3F; /* Deep Blue */
        color: #E5B80B; /* Rich Gold */
        padding: 18px;
        text-align: center;
        font-size: 26px;
        font-weight: bold;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    /* Containers */
    .container {
        width: 90%;
        max-width: 520px;
        margin: 30px auto;
        background: #ffffff;
        padding: 22px;
        border-radius: 14px;
        box-shadow: 0 0 15px rgba(0,0,0,0.15);
        border-left: 5px solid #001F3F;
    }

    /* Headings */
    h2, h3 {
        color: #001F3F;
    }

    /* Inputs */
    input, select {
        width: 100%;
        padding: 14px;
        margin-top: 12px;
        border-radius: 10px;
        border: 2px solid #001F3F;
        font-weight: bold;
        color: #001F3F;
        font-size: 15px;
    }

    /* Buttons */
    button {
        width: 100%;
        padding: 16px;
        margin-top: 12px;
        border-radius: 10px;
        border: none;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        background: linear-gradient(90deg, #E5B80B, #FFD700);
        color: #001F3F;
        transition: 0.3s;
    }

    button:hover {
        opacity: 0.85;
    }

    /* Ride Boxes */
    .ride-box {
        background: #f0f8ff; /* Light blue */
        padding: 16px;
        border-radius: 10px;
        margin-top: 12px;
        border-left: 6px solid #E5B80B;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* Hide Sections */
    #dashboard, #driverDashboard, #signupPage, #loginPage {
        display: none;
    }

    /* Responsive */
    @media (max-width: 600px) {
        header { font-size: 22px; padding: 15px; }
        .container { padding: 18px; margin-top: 20px; }
        input, select { padding: 12px; font-size: 14px; }
        button { padding: 14px; font-size: 15px; }
        .ride-box { padding: 14px; }
    }
</style>
</head>
<body>

<header>UniRide - Premium Rides</header>

<div class="container" id="home">
    <h2>Welcome to UniRide</h2>
    <button onclick="showSignup()">Create Account</button>
    <button onclick="showLogin()">Login</button>
</div>

<!-- SIGNUP -->
<div class="container" id="signupPage">
    <h2>Create Account</h2>
    <select id="role">
        <option value="">Select Role</option>
        <option value="passenger">Passenger</option>
        <option value="driver">Driver</option>
    </select>
    <input type="text" id="signupName" placeholder="Full Name">
    <input type="text" id="signupEmail" placeholder="Email">
    <input type="password" id="signupPassword" placeholder="Password">
    <button onclick="signup()">Sign Up</button>
    <button onclick="goHome()">Back</button>
</div>

<!-- LOGIN -->
<div class="container" id="loginPage">
    <h2>Login</h2>
    <input type="text" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button onclick="login()">Login</button>
    <button onclick="goHome()">Back</button>
</div>

<!-- PASSENGER DASHBOARD -->
<div class="container" id="dashboard">
    <h2>Passenger Dashboard</h2>
    <h3>Request a Ride</h3>
    <input type="text" id="pickup" placeholder="Pickup Location">
    <input type="text" id="destination" placeholder="Destination">
    <button onclick="requestRide()">Request Ride</button>

    <h3>Your Ride Status</h3>
    <p id="rideStatus">No active ride</p>

    <button onclick="logout()">Logout</button>
</div>

<!-- DRIVER DASHBOARD -->
<div class="container" id="driverDashboard">
    <h2>Driver Dashboard</h2>
    <h3>Incoming Ride Requests</h3>
    <div id="rideRequests"></div>
    <button onclick="logout()">Logout</button>
</div>

<script>
    function showSignup(){ hideAll(); document.getElementById("signupPage").style.display="block"; }
    function showLogin(){ hideAll(); document.getElementById("loginPage").style.display="block"; }
    function goHome(){ hideAll(); document.getElementById("home").style.display="block"; }
    function hideAll(){ document.getElementById("home").style.display="none"; document.getElementById("signupPage").style.display="none"; document.getElementById("loginPage").style.display="none"; document.getElementById("dashboard").style.display="none"; document.getElementById("driverDashboard").style.display="none"; }

    function signup(){
        let users = JSON.parse(localStorage.getItem("users") || "[]");
        let role = document.getElementById("role").value;
        let name = document.getElementById("signupName").value;
        let email = document.getElementById("signupEmail").value;
        let password = document.getElementById("signupPassword").value;
        if(!role||!name||!email||!password){ alert("Fill all fields!"); return; }
        users.push({role,name,email,password});
        localStorage.setItem("users", JSON.stringify(users));
        alert("Account created!");
        showLogin();
    }

    function login(){
        let users = JSON.parse(localStorage.getItem("users") || "[]");
        let email = document.getElementById("loginEmail").value;
        let password = document.getElementById("loginPassword").value;
        let user = users.find(u=>u.email===email && u.password===password);
        if(!user){ alert("Invalid login"); return; }
        localStorage.setItem("loggedIn", JSON.stringify(user));
        if(user.role==="passenger") showPassengerDashboard();
        else showDriverDashboard();
    }

    function showPassengerDashboard(){ hideAll(); document.getElementById("dashboard").style.display="block"; }
    function showDriverDashboard(){ hideAll(); document.getElementById("driverDashboard").style.display="block"; loadRequests(); }
    function logout(){ localStorage.removeItem("loggedIn"); goHome(); }

    function requestRide(){
        let pickup=document.getElementById("pickup").value;
        let destination=document.getElementById("destination").value;
        if(!pickup||!destination){ alert("Fill pickup and destination"); return; }
        let passenger=JSON.parse(localStorage.getItem("loggedIn"));
        let requests=JSON.parse(localStorage.getItem("rideRequests")||"[]");
        let newRide={id:Date.now(),passenger:passenger.name,pickup,destination,status:"pending"};
        requests.push(newRide);
        localStorage.setItem("rideRequests",JSON.stringify(requests));
        document.getElementById("rideStatus").innerText="Waiting for a driver...";
        alert("Ride requested!");
    }

    function loadRequests(){
        let requests=JSON.parse(localStorage.getItem("rideRequests")||"[]");
        let container=document.getElementById("rideRequests");
        container.innerHTML="";
        if(requests.length===0){ container.innerHTML="<p>No ride requests</p>"; return; }
        requests.forEach(r=>{
            if(r.status==="pending"){
                container.innerHTML+=`<div class="ride-box">
                    <p><b>Passenger:</b> ${r.passenger}</p>
                    <p><b>Pickup:</b> ${r.pickup}</p>
                    <p><b>Destination:</b> ${r.destination}</p>
                    <button onclick="acceptRide(${r.id})">Accept Ride</button>
                </div>`;
            }
        });
    }

    function acceptRide(id){
        let requests=JSON.parse(localStorage.getItem("rideRequests")||"[]");
        let ride=requests.find(r=>r.id===id);
        ride.status="accepted";
        localStorage.setItem("rideRequests",JSON.stringify(requests));
        alert("Ride accepted!");
        loadRequests();
    }
</script>
</body>
</html>
